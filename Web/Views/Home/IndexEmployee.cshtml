@using Framework.Utils
@using Framework.Common
@model KO.Web.Models.Order.OrderViewModel

@section scripts
{
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>
    <script type="text/javascript" src="~/js/pages/home/index.js" asp-append-version="true"></script>
    <script type="text/javascript">
        vueAppParams.data.model =@Html.Raw(Model.ToJsonModel())
    </script>


}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous" />
<link href="~/css/selfResto.css" rel="stylesheet" />

@if (UserUtils.UserPermission(Context.User, Constants.ADMINISTRATOR))
{
    <template>
        <v-container fluid>
            <v-row>
                <v-col v-for="item in tables"
                       :key="item.Id"
                       :cols="2">
                    <v-card :disabled="!item.active">
                        <v-img src="@Url.Content("/images/backgroundMesaAdmin.jpg")"
                               class="white--text align-end"
                               height="100px">
                            <v-card-title>
                                <label>Mesa {{item.number}}</label>
                                <v-spacer></v-spacer>
                                <v-avatar v-if="!item.active" color="white" icon>
                                    <v-icon large>person_off</v-icon>
                                </v-avatar>  <!--Inactiva / Inutilizable-->
                                <v-avatar v-if="item.closed && item.active" color="yellow lighten-4" icon>
                                    <v-icon large color="green lighten-1">more_horiz</v-icon>
                                </v-avatar> <!--Sin Comensales-->
                                <v-avatar v-if="!item.closed" color="pink lighten-5" icon>
                                    <v-icon large color="red">restaurant</v-icon>
                                </v-avatar> <!--Abierta-->
                            </v-card-title>
                        </v-img>
                        <v-card-title class="py-1">
                            <label style="font-size:13px">
                                {{jsglobals.Waiter}}: <strong>{{item.waiterName}}</strong>
                            </label>
                        </v-card-title>
                        <v-card-title class="py-1">
                            <label style="font-size:13px">
                                {{jsglobals.WaiterBackUp}}: {{item.waiterBackUpName}}
                            </label>
                        </v-card-title>

                        @*<v-card-actions>
                                <v-btn color="red lighten-2" v-on:click="SeeDetail">{{jsglobals.SeeDetail}}</v-btn>
                            </v-card-actions>*@
                    </v-card>
                </v-col>
            </v-row>
        </v-container>
    </template>
}

@if (UserUtils.UserPermission(Context.User, Constants.WAITER))
{

    <template>
        <v-container fluid>
            <v-row>
                <v-col v-for="item in tables"
                       v-if="(@UserUtils.GetId(User) == item.waiterId)||(@UserUtils.GetId(User) == item.waiterBackUpId)"
                       :key="item.id"
                       :cols="4">
                    <v-card :disabled="item.orderStatusId == null">
                        <v-img src="@Url.Content("/images/backgroundMesaMozo.jpg")"
                               class="white--text align-end"
                               gradient="to bottom, rgba(120,178,196,.2), rgba(103,206,240,.6)"
                               height="200px">
                            <v-card-title>{{jsglobals.Table}} {{item.number}}</v-card-title>
                        </v-img>

                        <v-card-actions>
                            <v-btn color="red lighten-2" v-on:click="seeOrderDetail(item.id)" :disabled="item.orderStatusId == null">{{jsglobals.SeeDetail}}</v-btn>
                            <v-spacer></v-spacer>
                            @*Cambiar orderStatusId condición y agregar el css alertWaiter para animación*@
                            <v-btn icon class="mx-5">
                                <v-icon v-if="item.orderStatusId == 3" large color="yellow darken-2" class="material-icons alertWaiter">notifications_active</v-icon>
                                <v-icon v-else large color="grey lighten-2" class="material-icons">notifications_active</v-icon>
                            </v-btn>

                            <v-btn icon class="mx-5">
                                <v-icon v-if="item.orderStatusId == 3" color="cyan lighten-1" large class="material-icons">liquor</v-icon>
                                <v-icon v-else color="grey lighten-2" large class="material-icons">liquor</v-icon>
                            </v-btn>

                            <v-btn icon class="mx-5">
                                <v-icon v-if="item.orderStatusId == 3" color="green" large class="material-icons">room_service</v-icon>
                                <v-icon v-else color="grey lighten-2" large>room_service</v-icon>
                            </v-btn>

                            <v-btn icon class="">
                                <v-icon v-if="item.orderStatusId == 3" color="red" large class="material-icons mr-1">paid</v-icon>
                                <v-icon v-else color="grey lighten-2" large>paid</v-icon>
                            </v-btn>
                        </v-card-actions>
                    </v-card>
                </v-col>
            </v-row>
        </v-container>
    </template>

    <v-row justify="space-around">
        <v-col cols="auto">
            <v-dialog v-model="dialogOrderDetails" transition="dialog-bottom-transition"
                      width="400">
                <template v-slot:default="dialog">
                    <v-card>
                        <v-card-title class="pt-0">
                        </v-card-title>
                        <template>
                            <v-card-text v-if="elem[0].orderDetails.length == 0"><v-card-title>No realizó pedido aún</v-card-title></v-card-text>
                            <v-card-text v-else style="font-size:16px;color:black" class="text-center pa-0">
                                <v-list v-if="elem[0].orderDetails.some(o=>o.menuItemCategoryId > 7)" class="pb-5">
                                    <label class="mb-3"><strong>- - -BEBIDAS - - - </strong></label>
                                    <v-list-item v-for="item in elem[0].orderDetails" v-if="item.menuItemCategoryId > 7"
                                                 :key="item.id"
                                                 style="min-height: 25px !important; border-bottom: 0.5px solid lightgray"
                                                 >
                                        <v-list-item-title name="bebidas" v-if="item.stateTypeId == 1" class="text-left">
                                            {{item.menuItemName}}
                                        </v-list-item-title>
                                        <v-list-item-title v-if="item.stateTypeId == 2" class="text-left">
                                            {{item.menuItemName}}
                                        </v-list-item-title>
                                        <v-list-item-title v-if="item.stateTypeId >= 3" class="text-left">
                                            {{item.menuItemName}}
                                        </v-list-item-title>
                                        <v-list-item-subtitle class="text-right" style="max-width:60px !important">
                                            <v-icon v-if="item.stateTypeId == 1" color="grey lighten-2" v-on:click="changeItemState(elem.id, item.id, 2)">mdi-chef-hat</v-icon>
                                            <v-icon v-if="item.stateTypeId == 2" color="green" v-on:click="changeItemState(elem.id, item.id, 3)">mdi-chef-hat</v-icon>
                                            <v-icon v-if="item.stateTypeId == 3" color="yellow darken-2">pending_actions</v-icon>
                                            <v-icon v-if="item.stateTypeId == 4" color="cyan lighten-1">how_to_reg</v-icon>
                                            <v-icon v-if="item.stateTypeId > 1" v-on:click="changeBack(elem.id, item.id)">undo</v-icon>
                                        </v-list-item-subtitle>
                                    </v-list-item>
                                </v-list>
                                <v-list v-if="elem[0].orderDetails.some(o=>o.menuItemCategoryId == 1)">
                                    <label class="mb-3"><strong>- - - ENTRADAS - - - </strong></label>
                                    <v-list-item v-for="item in elem[0].orderDetails" v-if="item.menuItemCategoryId == 1"
                                                 :key="item.id"
                                                 style="min-height:25px !important;border-bottom:0.5px solid lightgray">
                                        <v-list-item-title v-if="item.stateTypeId == 1" class="text-left">
                                            {{item.menuItemName}}
                                        </v-list-item-title>
                                        <v-list-item-title v-if="item.stateTypeId == 2" class="text-left">
                                            {{item.menuItemName}}
                                        </v-list-item-title>
                                        <v-list-item-title v-if="item.stateTypeId >= 3" class="text-left">
                                            {{item.menuItemName}}
                                        </v-list-item-title>
                                        <v-list-item-subtitle class="text-right" style="max-width:60px !important">
                                            <v-icon v-if="item.stateTypeId == 1" color="grey lighten-2" v-on:click="changeItemState(elem.id, item.id, 2)">mdi-chef-hat</v-icon>
                                            <v-icon v-if="item.stateTypeId == 2 " color="green" v-on:click="changeItemState(elem.id, item.id, 3)">mdi-chef-hat</v-icon>
                                            <v-icon v-if="item.stateTypeId == 3" color="yellow darken-2">pending_actions</v-icon>
                                            <v-icon v-if="item.stateTypeId == 4" color="cyan lighten-1">how_to_reg</v-icon>
                                            <v-icon v-if="item.stateTypeId > 1" v-on:click="changeBack(elem.id, item.id)">undo</v-icon>
                                        </v-list-item-subtitle>
                                    </v-list-item>
                                </v-list>
                                <v-list v-if="elem[0].orderDetails.some(o=>(o.menuItemCategoryId > 1 && o.menuItemCategoryId < 7))">
                                    <label class="mb-3"><strong>- - - PLATOS - - - </strong></label>
                                    <v-list-item v-for="item in elem[0].orderDetails" v-if="(item.menuItemCategoryId > 1 && item.menuItemCategoryId < 7)"
                                                 :key="item.id"
                                                 style="min-height: 25px !important; border-bottom: 0.5px solid lightgray">
                                        <v-list-item-title name="platos" v-if="item.stateTypeId == 1" class="text-left">
                                            {{item.menuItemName}}<span v-if="item.relatedMenuItemId != null">con {{item.relatedMenuItemName}}</span>
                                        </v-list-item-title>
                                        <v-list-item-title v-if="item.stateTypeId == 2" class="text-left">
                                            {{item.menuItemName}}<span v-if="item.relatedMenuItemId != null">con {{item.relatedMenuItemName}}</span>
                                        </v-list-item-title>
                                        <v-list-item-title v-if="item.stateTypeId >= 3" class="text-left">
                                            {{item.menuItemName}}<span v-if="item.relatedMenuItemId != null">con {{item.relatedMenuItemName}}</span>
                                        </v-list-item-title>
                                        <v-list-item-subtitle class="text-right" style="max-width:60px !important">
                                            <v-icon v-if="item.stateTypeId == 1" color="grey lighten-2" v-on:click="changeItemState(elem.id, item.id, 2)">mdi-chef-hat</v-icon>
                                            <v-icon v-if="item.stateTypeId == 2" color="green" v-on:click="changeItemState(elem.id, item.id, 3)">mdi-chef-hat</v-icon>
                                            <v-icon v-if="item.stateTypeId == 3" color="yellow darken-2">pending_actions</v-icon>
                                            <v-icon v-if="item.stateTypeId == 4" color="cyan lighten-1">how_to_reg</v-icon>
                                            <v-icon v-if="item.stateTypeId > 1" v-on:click="changeBack(elem.id, item.id)">undo</v-icon>
                                        </v-list-item-subtitle>
                                    </v-list-item>
                                </v-list>
                                <v-list v-if="elem[0].orderDetails.some(o=>o.menuItemCategoryId == 7)">
                                    <label class="mb-3"><strong>- - - POSTRES - - - </strong></label>
                                    <v-list-item v-for="item in elem[0].orderDetails" v-if="item.menuItemCategoryId == 7"
                                                 :key="item.id"
                                                 style="min-height: 25px !important; border-bottom: 0.5px solid lightgray">
                                        <v-list-item-title name="postres" v-if="item.stateTypeId == 1" class="text-left">
                                            {{item.menuItemName}}
                                        </v-list-item-title>
                                        <v-list-item-title v-if="item.stateTypeId == 2" class="text-left">
                                            {{item.menuItemName}}
                                        </v-list-item-title>
                                        <v-list-item-title v-if="item.stateTypeId >= 3" class="text-left">
                                            {{item.menuItemName}}
                                        </v-list-item-title>
                                        <v-list-item-subtitle class="text-right" style="max-width:60px !important">
                                            <v-icon v-if="item.stateTypeId == 1" color="grey lighten-2" v-on:click="changeItemState(elem.id, item.id, 2)">mdi-chef-hat</v-icon>
                                            <v-icon v-if="item.stateTypeId == 2" color="green" v-on:click="changeItemState(elem.id, item.id, 3)">mdi-chef-hat</v-icon>
                                            <v-icon v-if="item.stateTypeId == 3" color="yellow darken-2">pending_actions</v-icon>
                                            <v-icon v-if="item.stateTypeId == 4" color="cyan lighten-1">how_to_reg</v-icon>
                                            <v-icon v-if="item.stateTypeId > 1" v-on:click="changeBack(elem.id, item.id)">undo</v-icon>
                                        </v-list-item-subtitle>
                                    </v-list-item>
                                </v-list>
                            </v-card-text>
                        </template>
                        </v-card>
                    </template>
        </v-dialog>
        </v-col>
    </v-row>



                }

@if (UserUtils.UserPermission(Context.User, Constants.KITCHEN))
{
    <template>
        <v-row dense class="mx-15" style="height: 612px !important;min-height: 612px !important;max-height: 612px !important;">
            <template>
                <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <v-col v-for="(elem,index) in ordersKitchen"
                                   v-if="index <4"
                                   :key="elem.id"
                                   elevation="10"
                                   :cols="3"
                                   style="margin-top:-6vh; vertical-align:top !important"
                                   class="d-inline-block w-50">

                                <div class="text-center rope">
                                    <img width="108%" src="@Url.Content("/images/ropeTransparent.png")" />
                                </div>
                                <div class="text-center clip">
                                    <img width="50" src="@Url.Content("/images/clipTransparent.png")" />
                                </div>
                                <v-card>
                                    <v-card-title class="py-0" style="justify-content:center">
                                        &nbsp;
                                    </v-card-title>
                                    <v-card-title class="py-1">
                                        <label style="font-size:13px">
                                            {{jsglobals.Waiter}}: {{elem.waiterName}}
                                        </label>
                                        <v-spacer></v-spacer>
                                        {{jsglobals.Table}} {{elem.tableNumber}}
                                    </v-card-title>
                                    <v-card-title class="pt-0">
                                        <label style="font-size:14px">{{jsglobals.Request}}: {{elem.requestedTimeString}}</label>
                                        <v-spacer></v-spacer>
                                        <v-chip outlined :color="elem.cronoWarning">{{elem.tiempoEnCocina}}</v-chip>
                                    </v-card-title>
                                    <template>
                                        <label color="gray">&nbsp;&nbsp;******************************************</label>
                                        <v-card-text style="font-size:16px;color:black" class="text-center pa-0">
                                            <v-list v-if="elem.orderDetails.some(o=>o.menuItemCategoryId == 1)">
                                                <label name="entradas"><strong>- - - ENTRADAS - - - </strong></label>
                                                <v-list-item v-for="item in elem.orderDetails" v-if="item.menuItemCategoryId == 1"
                                                             :key="item.id"
                                                             style="min-height:25px !important;border-bottom:0.5px solid lightgray">
                                                    <v-list-item-title style="color: #f9b903" v-if="item.stateTypeId == 1" class="text-left">
                                                        {{item.menuItemName}}
                                                    </v-list-item-title>
                                                    <v-list-item-title style="color: green" v-if="item.stateTypeId == 2" class="text-left">
                                                        {{item.menuItemName}}
                                                    </v-list-item-title>
                                                    <v-list-item-title style="color: pink;" v-if="item.stateTypeId == 3" class="text-left">
                                                        {{item.menuItemName}}
                                                    </v-list-item-title>
                                                    <v-list-item-title style="color: #26C6DA; text-decoration: line-through" v-if="item.stateTypeId == 4" class="text-left">
                                                        {{item.menuItemName}}
                                                    </v-list-item-title>
                                                    <v-list-item-subtitle class="text-right" style="max-width:60px !important">
                                                        <v-icon v-if="item.stateTypeId == 1" color="yellow darken-2" v-on:click="changeItemState(elem.id, item.id, 2)">pending_actions</v-icon>
                                                        <v-icon v-if="item.stateTypeId == 2" color="green" v-on:click="changeItemState(elem.id, item.id, 3)">mdi-chef-hat</v-icon>
                                                        <v-icon v-if="item.stateTypeId == 3" color="red lighten-2" v-on:click="changeItemState(elem.id, item.id, 4)">room_service</v-icon>
                                                        <v-icon v-if="item.stateTypeId == 4" color="cyan lighten-1">how_to_reg</v-icon>
                                                        <v-icon v-if="item.stateTypeId > 1" v-on:click="changeBack(elem.id, item.id)">undo</v-icon>
                                                    </v-list-item-subtitle>
                                                </v-list-item>
                                            </v-list>

                                            <v-list v-if="elem.orderDetails.some(o=>(o.menuItemCategoryId > 1 && o.menuItemCategoryId < 7))">
                                                <label><strong>- - - PLATOS - - - </strong></label>
                                                <v-list-item v-for="item in elem.orderDetails" v-if="(item.menuItemCategoryId > 1 && item.menuItemCategoryId < 7)"
                                                             :key="item.id"
                                                             style="min-height: 25px !important; border-bottom: 0.5px solid lightgray">
                                                    <v-list-item-title style="color: #f9b903" v-if="item.stateTypeId == 1" class="text-left">
                                                        {{item.menuItemName}}<span v-if="item.relatedMenuItemId != null">con {{item.relatedMenuItemName}}</span>
                                                    </v-list-item-title>
                                                    <v-list-item-title style="color: green" v-if="item.stateTypeId == 2" class="text-left">
                                                        {{item.menuItemName}}<span v-if="item.relatedMenuItemId != null">con {{item.relatedMenuItemName}}</span>
                                                    </v-list-item-title>
                                                    <v-list-item-title style="color: pink;" v-if="item.stateTypeId == 3" class="text-left">
                                                        {{item.menuItemName}}<span v-if="item.relatedMenuItemId != null">con {{item.relatedMenuItemName}}</span>
                                                    </v-list-item-title>
                                                    <v-list-item-title style="color: #26C6DA; text-decoration: line-through" v-if="item.stateTypeId == 4" class="text-left">
                                                        {{item.menuItemName}}<span v-if="item.relatedMenuItemId != null">con {{item.relatedMenuItemName}}</span>
                                                    </v-list-item-title>
                                                    <v-list-item-subtitle class="text-right" style="max-width:60px !important">
                                                        <v-icon v-if="item.stateTypeId == 1" color="yellow darken-2" v-on:click="changeItemState(elem.id, item.id, 2)">pending_actions</v-icon>
                                                        <v-icon v-if="item.stateTypeId == 2" color="green" v-on:click="changeItemState(elem.id, item.id, 3)">mdi-chef-hat</v-icon>
                                                        <v-icon v-if="item.stateTypeId == 3" color="red lighten-2" v-on:click="changeItemState(elem.id, item.id, 4)">room_service</v-icon>
                                                        <v-icon v-if="item.stateTypeId == 4" color="cyan lighten-1">how_to_reg</v-icon>
                                                        <v-icon v-if="item.stateTypeId > 1" v-on:click="changeBack(elem.id, item.id)">undo</v-icon>
                                                    </v-list-item-subtitle>
                                                </v-list-item>
                                            </v-list>

                                            <v-list v-if="elem.orderDetails.some(o=>o.menuItemCategoryId == 7)">
                                                <label><strong>- - - POSTRES - - - </strong></label>
                                                <v-list-item v-for="item in elem.orderDetails" v-if="item.menuItemCategoryId == 7"
                                                             :key="item.id"
                                                             style="min-height: 25px !important; border-bottom: 0.5px solid lightgray">
                                                    <v-list-item-title style="color: #f9b903" v-if="item.stateTypeId == 1" class="text-left">
                                                        {{item.menuItemName}}
                                                    </v-list-item-title>
                                                    <v-list-item-title style="color:green" v-if="item.stateTypeId == 2" class="text-left">
                                                        {{item.menuItemName}}
                                                    </v-list-item-title>
                                                    <v-list-item-title style="color: pink;" v-if="item.stateTypeId == 3" class="text-left">
                                                        {{item.menuItemName}}
                                                    </v-list-item-title>
                                                    <v-list-item-title style="color: #26C6DA; text-decoration: line-through" v-if="item.stateTypeId == 4" class="text-left">
                                                        {{item.menuItemName}}
                                                    </v-list-item-title>
                                                    <v-list-item-subtitle class="text-right" style="max-width:60px !important">
                                                        <v-icon v-if="item.stateTypeId == 1" color="yellow darken-2" v-on:click="changeItemState(elem.id, item.id, 2)">pending_actions</v-icon>
                                                        <v-icon v-if="item.stateTypeId == 2" color="green" v-on:click="changeItemState(elem.id, item.id, 3)">mdi-chef-hat</v-icon>
                                                        <v-icon v-if="item.stateTypeId == 3" color="red lighten-2" v-on:click="changeItemState(elem.id, item.id, 4)">room_service</v-icon>
                                                        <v-icon v-if="item.stateTypeId == 4" color="cyan lighten-1">how_to_reg</v-icon>
                                                        <v-icon v-if="item.stateTypeId > 1" v-on:click="changeBack(elem.id, item.id)">undo</v-icon>
                                                    </v-list-item-subtitle>
                                                </v-list-item>
                                            </v-list>
                                        </v-card-text>
                                    </template>
                            </v-col>
                        </div>
                        <div v-for="n in Math.ceil(ordersKitchen.length / 4) - 1" class="carousel-item">
                            <v-col v-for="(elem,index) in ordersKitchen"
                                   v-if="n > 0 && index < n*4+4 && index >=n*4"
                                   :key="elem.id"
                                   elevation="10"
                                   :cols="3"
                                   style="margin-top:-6vh;vertical-align:top !important"
                                   class="d-inline-block w-50">
                                <div class="text-center rope">
                                    <img width="108%" src="@Url.Content("/images/ropeTransparent.png")" />
                                </div>
                                <div class="text-center clip">
                                    <img width="50" src="@Url.Content("/images/clipTransparent.png")" />
                                </div>
                                <v-card>
                                    <v-card-title class="py-0" style="justify-content:center">
                                        &nbsp;
                                    </v-card-title>
                                    <v-card-title class="py-1">
                                        <label style="font-size:13px">
                                            {{jsglobals.Waiter}}: {{elem.waiterName}}
                                        </label>
                                        <v-spacer></v-spacer>
                                        {{jsglobals.Table}} {{elem.tableNumber}}
                                    </v-card-title>
                                    <v-card-title class="pt-0">
                                        <label style="font-size:14px">{{jsglobals.Request}}: {{elem.requestedTimeString}}</label>
                                        <v-spacer></v-spacer>
                                        <v-chip outlined :color="elem.cronoWarning">{{elem.tiempoEnCocina}}</v-chip>
                                    </v-card-title>
                                    <template>
                                        <label color="gray">&nbsp;&nbsp;********************************************</label>
                                        <v-card-text style="font-size:16px;color:black" class="text-center pa-0">
                                            <v-list v-if="elem.orderDetails.some(o=>o.menuItemCategoryId == 1)">
                                                <label name="entradas"><strong>- - - ENTRADAS - - - </strong></label>
                                                <v-list-item v-for="item in elem.orderDetails" v-if="item.menuItemCategoryId == 1"
                                                             :key="item.id"
                                                             style="min-height:25px !important;border-bottom:0.5px solid lightgray">
                                                    <v-list-item-title style="color: #f9b903" v-if="item.stateTypeId == 1" class="text-left">
                                                        {{item.menuItemName}}
                                                    </v-list-item-title>
                                                    <v-list-item-title style="color:green" v-if="item.stateTypeId == 2" class="text-left">
                                                        {{item.menuItemName}}
                                                    </v-list-item-title>
                                                    <v-list-item-title style="color: pink;" v-if="item.stateTypeId == 3" class="text-left">
                                                        {{item.menuItemName}}
                                                    </v-list-item-title>
                                                    <v-list-item-title style="color: #26C6DA; text-decoration: line-through" v-if="item.stateTypeId == 4" class="text-left">
                                                        {{item.menuItemName}}
                                                    </v-list-item-title>
                                                    <v-list-item-subtitle class="text-right" style="max-width:60px !important">
                                                        <v-icon v-if="item.stateTypeId == 1" color="yellow darken-2" v-on:click="changeItemState(elem.id, item.id, 2)">pending_actions</v-icon>
                                                        <v-icon v-if="item.stateTypeId == 2" color="green" v-on:click="changeItemState(elem.id, item.id, 3)">mdi-chef-hat</v-icon>
                                                        <v-icon v-if="item.stateTypeId == 3" color="red lighten-2" v-on:click="changeItemState(elem.id, item.id, 4)">room_service</v-icon>
                                                        <v-icon v-if="item.stateTypeId == 4" color="cyan lighten-1">how_to_reg</v-icon>
                                                        <v-icon v-if="item.stateTypeId > 1" v-on:click="changeBack(elem.id, item.id)">undo</v-icon>
                                                    </v-list-item-subtitle>
                                                </v-list-item>
                                            </v-list>

                                            <v-list v-if="elem.orderDetails.some(o=>(o.menuItemCategoryId > 1 && o.menuItemCategoryId < 7))">
                                                <label><strong>- - - PLATOS - - - </strong></label>
                                                <v-list-item v-for="item in elem.orderDetails" v-if="(item.menuItemCategoryId > 1 && item.menuItemCategoryId < 7)"
                                                             :key="item.id"
                                                             style="min-height: 25px !important; border-bottom: 0.5px solid lightgray">
                                                    <v-list-item-title style="color: #f9b903" v-if="item.stateTypeId == 1" class="text-left">
                                                        {{item.menuItemName}}<span v-if="item.relatedMenuItemId != null">con {{item.relatedMenuItemName}}</span>
                                                    </v-list-item-title>
                                                    <v-list-item-title style="color: green" v-if="item.stateTypeId == 2" class="text-left">
                                                        {{item.menuItemName}}<span v-if="item.relatedMenuItemId != null">con {{item.relatedMenuItemName}}</span>
                                                    </v-list-item-title>
                                                    <v-list-item-title style="color: pink; " v-if="item.stateTypeId == 3" class="text-left">
                                                        {{item.menuItemName}}<span v-if="item.relatedMenuItemId != null">con {{item.relatedMenuItemName}}</span>
                                                    </v-list-item-title>
                                                    <v-list-item-title style="color: #26C6DA; text-decoration: line-through" v-if="item.stateTypeId == 4" class="text-left">
                                                        {{item.menuItemName}}<span v-if="item.relatedMenuItemId != null">con {{item.relatedMenuItemName}}</span>
                                                    </v-list-item-title>
                                                    <v-list-item-subtitle class="text-right" style="max-width:60px !important">
                                                        <v-icon v-if="item.stateTypeId == 1" color="yellow darken-2" v-on:click="changeItemState(elem.id, item.id, 2)">pending_actions</v-icon>
                                                        <v-icon v-if="item.stateTypeId == 2" color="green" v-on:click="changeItemState(elem.id, item.id, 3)">mdi-chef-hat</v-icon>
                                                        <v-icon v-if="item.stateTypeId == 3" color="red lighten-2" v-on:click="changeItemState(elem.id, item.id, 4)">room_service</v-icon>
                                                        <v-icon v-if="item.stateTypeId == 4" color="cyan lighten-1">how_to_reg</v-icon>
                                                        <v-icon v-if="item.stateTypeId > 1" v-on:click="changeBack(elem.id, item.id)">undo</v-icon>
                                                    </v-list-item-subtitle>
                                                </v-list-item>
                                            </v-list>

                                            <v-list v-if="elem.orderDetails.some(o=>o.menuItemCategoryId == 7)">
                                                <label><strong>- - - POSTRES - - - </strong></label>
                                                <v-list-item v-for="item in elem.orderDetails" v-if="item.menuItemCategoryId == 7"
                                                             :key="item.id"
                                                             style="min-height: 25px !important; border-bottom: 0.5px solid lightgray">
                                                    <v-list-item-title style="color: #f9b903" v-if="item.stateTypeId == 1" class="text-left">
                                                        {{item.menuItemName}}
                                                    </v-list-item-title>
                                                    <v-list-item-title style="color:green" v-if="item.stateTypeId == 2" class="text-left">
                                                        {{item.menuItemName}}
                                                    </v-list-item-title>
                                                    <v-list-item-title style="color: pink;" v-if="item.stateTypeId == 3" class="text-left">
                                                        {{item.menuItemName}}
                                                    </v-list-item-title>
                                                    <v-list-item-title style="color: #26C6DA; text-decoration: line-through" v-if="item.stateTypeId == 4" class="text-left">
                                                        {{item.menuItemName}}
                                                    </v-list-item-title>
                                                    <v-list-item-subtitle class="text-right" style="max-width:60px !important">
                                                        <v-icon v-if="item.stateTypeId == 1" color="yellow darken-2" v-on:click="changeItemState(elem.id, item.id, 2)">pending_actions</v-icon>
                                                        <v-icon v-if="item.stateTypeId == 2" color="green" v-on:click="changeItemState(elem.id, item.id, 3)">mdi-chef-hat</v-icon>
                                                        <v-icon v-if="item.stateTypeId == 3" color="red lighten-2" v-on:click="changeItemState(elem.id, item.id, 4)">room_service</v-icon>
                                                        <v-icon v-if="item.stateTypeId == 4" color="cyan lighten-1">how_to_reg</v-icon>
                                                        <v-icon v-if="item.stateTypeId > 1" v-on:click="changeBack(elem.id, item.id)">undo</v-icon>
                                                    </v-list-item-subtitle>
                                                </v-list-item>
                                            </v-list>
                                        </v-card-text>
                                    </template>
                                </v-card>
                            </v-col>
                        </div>

                    </div>
                    <div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true" style="border-radius:5px; background-color: rgb(189, 100, 118) !important; margin-left: -300px !important"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                    </div>
                    <div>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true" style="border-radius: 5px; background-color: rgb(189, 100, 118) !important; margin-right: -300px !important"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                </div>
            </template>
        </v-row>
    </template>

}








